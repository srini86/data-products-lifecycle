<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 580">
  <defs>
    <linearGradient id="contractGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <linearGradient id="parserGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#4f46e5"/>
    </linearGradient>
    <linearGradient id="aiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="templateGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#64748b"/>
      <stop offset="100%" style="stop-color:#475569"/>
    </linearGradient>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="130%">
      <feDropShadow dx="0" dy="3" stdDeviation="6" flood-opacity="0.12"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="850" height="580" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="425" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="700" fill="#0f172a" text-anchor="middle">Code Generation: AI vs Template</text>
  
  <!-- Contract Box -->
  <rect x="325" y="70" width="200" height="70" rx="12" fill="url(#contractGrad)" filter="url(#shadow)"/>
  <rect x="390" y="60" width="70" height="22" rx="11" fill="#f59e0b"/>
  <text x="425" y="76" font-family="system-ui" font-size="10" font-weight="700" fill="white" text-anchor="middle">YAML</text>
  <text x="425" y="105" font-family="system-ui" font-size="14" font-weight="600" fill="white" text-anchor="middle">DATA CONTRACT</text>
  <text x="425" y="125" font-family="system-ui" font-size="10" fill="#94a3b8" text-anchor="middle">Schema â€¢ Derivations â€¢ Rules â€¢ Policies</text>
  
  <!-- Arrow to Parser -->
  <line x1="425" y1="140" x2="425" y2="170" stroke="#cbd5e1" stroke-width="3"/>
  <polygon points="425,180 417,168 433,168" fill="#cbd5e1"/>
  
  <!-- Parser Box -->
  <rect x="325" y="185" width="200" height="50" rx="10" fill="url(#parserGrad)" filter="url(#shadow)"/>
  <text x="425" y="215" font-family="system-ui" font-size="13" font-weight="600" fill="white" text-anchor="middle">Contract Parser</text>
  
  <!-- Split Lines - 4 branches now -->
  <line x1="425" y1="235" x2="425" y2="260" stroke="#cbd5e1" stroke-width="2"/>
  <line x1="110" y1="260" x2="740" y2="260" stroke="#cbd5e1" stroke-width="2"/>
  <line x1="110" y1="260" x2="110" y2="290" stroke="#cbd5e1" stroke-width="2"/>
  <line x1="320" y1="260" x2="320" y2="290" stroke="#cbd5e1" stroke-width="2"/>
  <line x1="530" y1="260" x2="530" y2="290" stroke="#cbd5e1" stroke-width="2"/>
  <line x1="740" y1="260" x2="740" y2="290" stroke="#cbd5e1" stroke-width="2"/>
  <polygon points="110,300 102,288 118,288" fill="#cbd5e1"/>
  <polygon points="320,300 312,288 328,288" fill="#cbd5e1"/>
  <polygon points="530,300 522,288 538,288" fill="#cbd5e1"/>
  <polygon points="740,300 732,288 748,288" fill="#cbd5e1"/>
  
  <!-- AI Method Box -->
  <rect x="25" y="305" width="170" height="80" rx="10" fill="url(#aiGrad)" filter="url(#shadow)"/>
  <text x="110" y="335" font-family="system-ui" font-size="12" font-weight="600" fill="white" text-anchor="middle">ðŸ§  Cortex AI (LLM)</text>
  <text x="110" y="355" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.85)" text-anchor="middle">Interprets English derivations</text>
  <text x="110" y="370" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.85)" text-anchor="middle">â†’ Transformation SQL</text>
  
  <!-- Template Method Box 1 - schema.yml -->
  <rect x="235" y="305" width="170" height="80" rx="10" fill="url(#templateGrad)" filter="url(#shadow)"/>
  <text x="320" y="335" font-family="system-ui" font-size="12" font-weight="600" fill="white" text-anchor="middle">ðŸ“‹ Template Parser</text>
  <text x="320" y="355" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.85)" text-anchor="middle">Extracts metadata</text>
  <text x="320" y="370" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.85)" text-anchor="middle">â†’ Structured YAML</text>
  
  <!-- Template Method Box 2 - masking -->
  <rect x="445" y="305" width="170" height="80" rx="10" fill="url(#templateGrad)" filter="url(#shadow)"/>
  <text x="530" y="335" font-family="system-ui" font-size="12" font-weight="600" fill="white" text-anchor="middle">ðŸ“‹ Template Parser</text>
  <text x="530" y="355" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.85)" text-anchor="middle">Reads policy definitions</text>
  <text x="530" y="370" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.85)" text-anchor="middle">â†’ Snowflake DDL</text>
  
  <!-- Template Method Box 3 - DMF -->
  <rect x="655" y="305" width="170" height="80" rx="10" fill="url(#templateGrad)" filter="url(#shadow)"/>
  <text x="740" y="335" font-family="system-ui" font-size="12" font-weight="600" fill="white" text-anchor="middle">ðŸ“‹ Template Parser</text>
  <text x="740" y="355" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.85)" text-anchor="middle">Maps quality rules</text>
  <text x="740" y="370" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.85)" text-anchor="middle">â†’ DMF commands</text>
  
  <!-- Arrows to Outputs -->
  <line x1="110" y1="385" x2="110" y2="415" stroke="#cbd5e1" stroke-width="2"/>
  <line x1="320" y1="385" x2="320" y2="415" stroke="#cbd5e1" stroke-width="2"/>
  <line x1="530" y1="385" x2="530" y2="415" stroke="#cbd5e1" stroke-width="2"/>
  <line x1="740" y1="385" x2="740" y2="415" stroke="#cbd5e1" stroke-width="2"/>
  <polygon points="110,425 102,413 118,413" fill="#cbd5e1"/>
  <polygon points="320,425 312,413 328,413" fill="#cbd5e1"/>
  <polygon points="530,425 522,413 538,413" fill="#cbd5e1"/>
  <polygon points="740,425 732,413 748,413" fill="#cbd5e1"/>
  
  <!-- Output Boxes -->
  <rect x="30" y="430" width="160" height="55" rx="8" fill="#d1fae5" stroke="#10b981" stroke-width="2"/>
  <text x="110" y="455" font-family="system-ui" font-size="12" font-weight="600" fill="#059669" text-anchor="middle">model.sql</text>
  <text x="110" y="472" font-family="system-ui" font-size="10" fill="#64748b" text-anchor="middle">dbt transformation</text>
  
  <rect x="240" y="430" width="160" height="55" rx="8" fill="#f1f5f9" stroke="#64748b" stroke-width="2"/>
  <text x="320" y="455" font-family="system-ui" font-size="12" font-weight="600" fill="#475569" text-anchor="middle">schema.yml</text>
  <text x="320" y="472" font-family="system-ui" font-size="10" fill="#64748b" text-anchor="middle">Docs &amp; tests</text>
  
  <rect x="450" y="430" width="160" height="55" rx="8" fill="#f1f5f9" stroke="#64748b" stroke-width="2"/>
  <text x="530" y="455" font-family="system-ui" font-size="12" font-weight="600" fill="#475569" text-anchor="middle">masking_policies.sql</text>
  <text x="530" y="472" font-family="system-ui" font-size="10" fill="#64748b" text-anchor="middle">PII protection</text>
  
  <rect x="660" y="430" width="160" height="55" rx="8" fill="#f1f5f9" stroke="#64748b" stroke-width="2"/>
  <text x="740" y="455" font-family="system-ui" font-size="12" font-weight="600" fill="#475569" text-anchor="middle">dmf_setup.sql</text>
  <text x="740" y="472" font-family="system-ui" font-size="10" fill="#64748b" text-anchor="middle">Data quality rules</text>
  
  <!-- Legend -->
  <rect x="225" y="510" width="12" height="12" rx="3" fill="#10b981"/>
  <text x="245" y="520" font-family="system-ui" font-size="11" fill="#64748b">AI-Generated (complex logic)</text>
  <rect x="455" y="510" width="12" height="12" rx="3" fill="#64748b"/>
  <text x="475" y="520" font-family="system-ui" font-size="11" fill="#64748b">Template-Based (deterministic)</text>
  
  <!-- Footer note -->
  <text x="425" y="555" font-family="system-ui" font-size="10" fill="#94a3b8" text-anchor="middle">Only transformation logic uses AI â€” all other outputs are deterministic parsers</text>
</svg>
